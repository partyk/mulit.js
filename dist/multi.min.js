/*! multi.js 11-06-2018 */

var multi=function(){var a=function(a,b){var c=document.createEvent("HTMLEvents");c.initEvent(a,!1,!0),b.dispatchEvent(c)},b=function(a){for(var b=0,c=0;c<a.options.length;c++)a.options[c].selected&&b++;return b++},c=function(a,c){if(c.max_items)return b(a)>=c.max_items&&("function"==typeof c.max_items_call&&c.max_items_call(a,c),!0)},d=function(b,d,e){var f=b.options[d.target.getAttribute("multi-index")];!f.selected&&c(b,e)||f.disabled||(f.selected=!f.selected,a("change",b))},e=function(a,b){if(a.wrapper.selected.innerHTML="",a.wrapper.non_selected.innerHTML="",b.non_selected_header&&b.selected_header){var c=document.createElement("div"),d=document.createElement("div");c.className="header",d.className="header",c.innerText=b.non_selected_header,d.innerText=b.selected_header,a.wrapper.non_selected.appendChild(c),a.wrapper.selected.appendChild(d)}if(a.wrapper.search)var e=a.wrapper.search.value;for(var f=null,g=null,h=0;h<a.options.length;h++){var i=a.options[h],j=i.value,k=i.textContent||i.innerText,l=document.createElement("a");if(l.tabIndex=0,l.className="item",l.innerHTML=k,l.setAttribute("role","button"),l.setAttribute("data-value",j),l.setAttribute("multi-index",h),i.disabled&&(l.className+=" disabled"),i.selected){l.className+=" selected";var m=l.cloneNode(!0);a.wrapper.selected.appendChild(m)}if("OPTGROUP"==i.parentNode.nodeName&&i.parentNode!=g){if(g=i.parentNode,f=document.createElement("div"),f.className="item-group",i.parentNode.label){var k=document.createElement("span");k.innerHTML=i.parentNode.label,k.className="group-label",f.appendChild(k)}a.wrapper.non_selected.appendChild(f)}i.parentNode==a&&(f=null,g=null),(!e||e&&k.toLowerCase().indexOf(e.toLowerCase())>-1)&&(null!=f?f.appendChild(l):a.wrapper.non_selected.appendChild(l))}};return function(a,b){if(b=void 0!==b?b:{},b.enable_search=void 0===b.enable_search||b.enable_search,b.search_placeholder=void 0!==b.search_placeholder?b.search_placeholder:"Search...",b.non_selected_header=void 0!==b.non_selected_header?b.non_selected_header:null,b.selected_header=void 0!==b.selected_header?b.selected_header:null,b.max_items=void 0!==b.max_items?b.max_items:null,b.max_items_call=void 0!==b.max_items_call?b.max_items:function(a,b){alert("Maximální počet vybraných položek je "+b.max_items)},null==a.dataset.multijs&&"SELECT"==a.nodeName&&a.multiple){a.style.display="none",a.setAttribute("data-multijs",!0);var c=document.createElement("div");if(c.className="multi-wrapper",b.enable_search){var f=document.createElement("input");f.className="search-input",f.type="text",f.setAttribute("placeholder",b.search_placeholder),f.addEventListener("input",function(){e(a,b)}),c.appendChild(f),c.search=f}var g=document.createElement("div");g.className="non-selected-wrapper";var h=document.createElement("div");h.className="selected-wrapper",c.addEventListener("click",function(c){c.target.getAttribute("multi-index")&&d(a,c,b)}),c.addEventListener("keypress",function(c){var e=32===c.keyCode||13===c.keyCode;c.target.getAttribute("multi-index")&&e&&(c.preventDefault(),d(a,c,b))}),c.appendChild(g),c.appendChild(h),c.non_selected=g,c.selected=h,a.wrapper=c,a.parentNode.insertBefore(c,a.nextSibling),e(a,b),a.addEventListener("change",function(){e(a,b)})}}}();"undefined"!=typeof jQuery&&function(a){a.fn.multi=function(b){return b=void 0!==b?b:{},this.each(function(){var c=a(this);multi(c.get(0),b)})}}(jQuery);
//# sourceMappingURL=multi.min.js.map